<%= form_with(model: @recipe, local: true) do |f| %>
  <form>
  <div class="left jumbotron">
    <div class="row">
      <div class="col-6">
        <div class="form-group">            
          <%= f.label :料理名 %>
          <%= f.text_field :title, placeholder: "料理名を入力してください", class: 'form-control' %>          
        </div>
      </div>
      <div class="col-4">
        <div class="form-group">
          <%= f.label :料理写真 %>
          <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="form-group">            
          <%= f.label :紹介文 %>
          <%= f.text_field :content, placeholder: "紹介文", class: 'form-control' %>          
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-6">
        <div class="form-group">            
          <%= f.label :作品名 %>
          <%= f.text_field :work_name, placeholder: "例:料理が登場する作品名を入力してください", class: 'form-control' %>          
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">            
          <%= f.label :作者 %>
          <%= f.text_field :author, placeholder: "例:料理が登場する作品の監督や作者を入力してください", class: 'form-control' %>
        </div>  
      </div>
    </div>

    <div class="row">
      <div class="col-6">
        <div class="left jumbotron">
          <div class="row">
            <div class="col-12">
              <div class="d-inline p-3">作り方</div>
            </div>
          </div>
          <div class="form-group">
            <%= f.fields_for :how_to_makes do |how_to_make| %>
              <%= render 'shared/how_to_makes_fields', f: how_to_make %>
            <% end %>
            <%= link_to_add_association '追加',f, :how_to_makes, partial: 'shared/how_to_makes_fields' %>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="left jumbotron">
          <div class="row">
            <div class="col-6">
              <div class="d-inline p-3">材料・調味料</div>
            </div>
            <div class="col-4">      
              <div class="d-inline p-3">分量</div>
            </div>
          </div>
          <div class="form-group">
            <%= f.fields_for :ingredients do |ingredient| %>
              <%= render 'shared/ingredients_fields', f: ingredient %>
            <% end %>
          <%= link_to_add_association '追加',f, :ingredients, partial: 'shared/ingredients_fields' %>
          </div>
        </div>
      </div>
    </div>

    <%= f.submit "Post", class: "btn btn-primary" %>
  </div>
  </form>
<% end %>

<script type="text/javascript">
  $("recipe_image").bind("change", function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert("Maximum file size is 5MB. Please choose a smaller file.");
      $("#recipe_image").val("");
    }
  });
</script>